<html><head>
<link rel="stylesheet" href="style.css" type="text/css">
<meta content="text/html; charset=iso-8859-1" http-equiv="Content-Type">
<link rel="Start" href="index.html">
<link title="Index of values" rel=Appendix href="index_values.html">
<link title="Index of class attributes" rel=Appendix href="index_attributes.html">
<link title="Index of class methods" rel=Appendix href="index_methods.html">
<link title="Index of classes" rel=Appendix href="index_classes.html">
<link title="Index of modules" rel=Appendix href="index_modules.html">
<link title="Conteur" rel="Chapter" href="Conteur.html">
<link title="Ds_commun" rel="Chapter" href="Ds_commun.html">
<link title="Joueur" rel="Chapter" href="Joueur.html">
<link title="Joueur2" rel="Chapter" href="Joueur2.html">
<link title="Joueur3" rel="Chapter" href="Joueur3.html">
<link title="Perso_olivier" rel="Chapter" href="Perso_olivier.html">
<link title="Regles" rel="Chapter" href="Regles.html"><title>Perso_olivier.donne_info</title>
</head>
<body>
<code class="code"><span class="keyword">let</span>&nbsp;donne_info&nbsp;objet&nbsp;((id_info,contenu):information)=<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init&nbsp;objet&nbsp;;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">match</span>&nbsp;id_info&nbsp;<span class="keyword">with</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keywordsign">|</span>0&nbsp;<span class="keywordsign">-&gt;</span><span class="comment">(*deprecated*)</span>&nbsp;()<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keywordsign">|</span>1<span class="keywordsign">-&gt;</span>tableau_id.(contenu.(0))&nbsp;&lt;-&nbsp;int2perso&nbsp;contenu.(1)&nbsp;<span class="comment">(*ton&nbsp;match&nbsp;with&nbsp;est&nbsp;pas&nbsp;tres&nbsp;comprehensible&nbsp;je&nbsp;le&nbsp;premplace&nbsp;par&nbsp;ce&nbsp;que&nbsp;je&nbsp;crois&nbsp;quil&nbsp;siginifie,&nbsp;sinon&nbsp;il&nbsp;faudrait&nbsp;mettre&nbsp;des&nbsp;begin/with&nbsp;en&nbsp;plus&nbsp;!*)</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment">(*tu&nbsp;essaye&nbsp;de&nbsp;mettre&nbsp;un&nbsp;entier&nbsp;dans&nbsp;ton&nbsp;tableau_id&nbsp;qui&nbsp;contient&nbsp;des&nbsp;perso,&nbsp;je&nbsp;rajoute&nbsp;donc&nbsp;la&nbsp;fonction&nbsp;int2perso&nbsp;qui&nbsp;permet&nbsp;de&nbsp;faire&nbsp;la&nbsp;conversion*)</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keywordsign">|</span>2<span class="keywordsign">-&gt;</span>&nbsp;<span class="keyword">assert</span>&nbsp;<span class="keyword">false</span>&nbsp;<span class="comment">(*ceci&nbsp;est&nbsp;une&nbsp;réponse&nbsp;de&nbsp;la&nbsp;part&nbsp;des&nbsp;joueurs&nbsp;uniquement*)</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keywordsign">|</span>3<span class="keywordsign">-&gt;</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">begin</span>&nbsp;(<span class="keyword">match</span>&nbsp;tableau_id.(contenu.(0))&nbsp;<span class="keyword">with</span>&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keywordsign">|</span><span class="constructor">Loup</span>&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;nb_loups:=(!nb_loups)&nbsp;-&nbsp;1<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keywordsign">|</span>_&nbsp;<span class="keywordsign">-&gt;</span>&nbsp;nb_villageois:=&nbsp;(!nb_villageois)&nbsp;-&nbsp;1);&nbsp;<span class="comment">(*tu&nbsp;peux&nbsp;remplacer&nbsp;cette&nbsp;ligne&nbsp;apr&nbsp;la&nbsp;fonction&nbsp;decr&nbsp;nb_villageois,&nbsp;cest&nbsp;plus&nbsp;court&nbsp;!*)</span>&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tableau_id.(contenu.(0))&nbsp;&lt;-&nbsp;<span class="constructor">Mort</span>&nbsp;tableau_id.(contenu.(0))&nbsp;<span class="comment">(*attention&nbsp;Mort&nbsp;nexiste&nbsp;pas&nbsp;tout&nbsp;seul:&nbsp;cest&nbsp;par&nbsp;ex&nbsp;Mort&nbsp;Voyante&nbsp;(cest&nbsp;un&nbsp;type&nbsp;reccursif,&nbsp;mais&nbsp;peut&nbsp;etre&nbsp;que&nbsp;ca&nbsp;evoluera,&nbsp;faudra&nbsp;en&nbsp;discutter)*)</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">end</span>&nbsp;<span class="comment">(*ya&nbsp;&nbsp;un&nbsp;truc&nbsp;pas&nbsp;clair&nbsp;avec&nbsp;les&nbsp;points&nbsp;virgules&nbsp;ici:&nbsp;dès&nbsp;que&nbsp;tu&nbsp;mets&nbsp;un&nbsp;point&nbsp;virgule&nbsp;tu&nbsp;sors&nbsp;du&nbsp;match,&nbsp;si&nbsp;tout&nbsp;le&nbsp;bloc&nbsp;pécédent&nbsp;concerne&nbsp;le&nbsp;|_&nbsp;-&gt;...&nbsp;mets&nbsp;un&nbsp;begin...&nbsp;end*)</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keywordsign">|</span>4<span class="keywordsign">-&gt;</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">begin</span>&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(&nbsp;v_print&nbsp;0&nbsp;<span class="string">"&nbsp;%i&nbsp;:&nbsp;j'ai&nbsp;bien&nbsp;recu&nbsp;le&nbsp;fait&nbsp;que&nbsp;%i&nbsp;a&nbsp;voté&nbsp;contre&nbsp;%i&nbsp;au&nbsp;vote&nbsp;n°%i&nbsp;(tour:&nbsp;%i)&nbsp;mais&nbsp;je&nbsp;nen&nbsp;fait&nbsp;rien&nbsp;pour&nbsp;le&nbsp;moment\n"</span>&nbsp;objet<span class="keywordsign">#</span>get_id&nbsp;contenu.(3)&nbsp;contenu.(4)&nbsp;contenu.(0)&nbsp;contenu.(2));&nbsp;<span class="comment">(*oublie&nbsp;pas&nbsp;les&nbsp;points&nbsp;virgules&nbsp;!*)</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">if</span>&nbsp;contenu.(1)&nbsp;=&nbsp;0&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">then</span>&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">begin</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">let</span>&nbsp;compteur&nbsp;=&nbsp;ref&nbsp;0&nbsp;<span class="keyword">in</span>&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">while</span>&nbsp;historique_votes.(!compteur).(contenu.(3))&nbsp;&lt;&gt;(-1)&nbsp;<span class="keyword">do</span>&nbsp;<span class="comment">(*compteur:=(!compteur)+1*)</span>&nbsp;incr&nbsp;compteur&nbsp;<span class="keyword">done</span>;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;historique_votes.(!compteur).(contenu.(3))&lt;-contenu.(4)&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">end</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">else</span>&nbsp;der_vote_lg:=contenu.(4)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">end</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keywordsign">|</span>5<span class="keywordsign">-&gt;</span>failwith&nbsp;(<span class="constructor">Printf</span>.sprintf&nbsp;<span class="string">"%i:&nbsp;j'ai&nbsp;recu&nbsp;une&nbsp;info&nbsp;concernant&nbsp;le&nbsp;conteur,&nbsp;il&nbsp;y&nbsp;a&nbsp;erreur\n"</span>&nbsp;objet<span class="keywordsign">#</span>get_id)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keywordsign">|</span>_<span class="keywordsign">-&gt;</span>&nbsp;()</code></body></html>